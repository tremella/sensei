console.log('Hello! I am in the timeslice code!')
console.log('on click, generate timeslices (only for 9am to 6pm)')


document.addEventListener('DOMContentLoaded', function(){
    var times = [
        '09:00',
        '09:30',
        '10.00',
        '10.30',
        '11.00',
        '11.30',
        '12.00',
        '12.30',
        '13.00',
        '13.30',
        '14.00',
        '14.30',
        '15.00',
        '15.30',
        '16.00',
        '16.30',
        '17.00',
        '17.30',
    ]
    var allDates = document.querySelectorAll("td");
    let bookingTable = document.getElementById('booking-table')
    let i = 0

    allDates.forEach(date => date.addEventListener('click', ()=>{
        y = date.innerText.slice(0,4)
        m = parseInt(date.innerText.slice(5,7)) -1 
        d = date.innerText.slice(8,10)
        
        var options = { weekday: 'short'};
        day = new Intl.DateTimeFormat('en-US', options).format(new Date(y,m,d))
        isWeekday = ['Mon','Tue','Wed','Thu','Fri'].includes(day)
        
        if (isWeekday) {
            i = 0
            bookingTable.innerHTML = ''
            times.forEach(timeslot => {
                cell = bookingTable.insertRow(i)
                cell.innerHTML = timeslot;
                cell.classList.add('timeslice')
                i+= 1
            })
  
        } else {
            console.log('weekend. I do nothing!')
        }
        
    }))








});